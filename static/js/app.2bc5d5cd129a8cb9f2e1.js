webpackJsonp([2],{NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("7+uW"),r=n("3EgV"),s=n.n(r),i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list",[n("v-list-tile",{attrs:{to:"/",exact:""}},[n("v-list-tile-action",[n("v-icon",[t._v("dashboard")])],1),t._v(" "),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Dashboard")])],1)],1),t._v(" "),n("v-list-tile",{attrs:{to:"/portfolio"}},[n("v-list-tile-action",[n("v-icon",[t._v("account_balance")])],1),t._v(" "),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Porfolio")])],1)],1),t._v(" "),n("v-list-tile",{attrs:{to:"/stocks"}},[n("v-list-tile-action",[n("v-icon",[t._v("assessment")])],1),t._v(" "),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Stocks")])],1)],1)],1)},staticRenderFns:[]},a="SAVE_PORTFOLIO",c="LOAD_PORTFOLIO",l="SELL_STOCK",u={computed:{funds:function(){return this.$store.getters.funds},wasPortfolioSaved:function(){return null!==this.$store.getters.portfolioId}},methods:{iconClicked:function(){this.$emit("toggle-drawer")},newDay:function(){this.$store.dispatch("NEXT_DAY")},savePortfolio:function(){window.confirm("Do you really want to save?")&&this.$store.dispatch(a).then(function(){return window.alert("Saved!")})},loadPortfolio:function(){this.wasPortfolioSaved&&window.confirm("Do you really want to load?")&&this.$store.dispatch(c).then(function(){return window.alert("Loaded!")})}}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-toolbar",{attrs:{app:""}},[n("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.iconClicked(e)}}}),t._v(" "),n("v-toolbar-title",[t._v("Stock App")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-toolbar-items",[n("v-btn",{attrs:{flat:""},on:{click:t.newDay}},[t._v("Next Day")]),t._v(" "),n("v-btn",{attrs:{flat:""}},[t._v("Login")])],1),t._v(" "),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""}},[n("v-btn",{attrs:{slot:"activator",icon:"",dark:""},slot:"activator"},[n("v-icon",[t._v("more_vert")])],1),t._v(" "),n("v-list",[n("v-list-tile",{attrs:{avatar:""}},[n("v-list-tile-avatar",[n("v-icon",{attrs:{"x-large":""}},[t._v("account_circle")])],1),t._v(" "),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Jaime Vega")]),t._v(" "),n("v-list-tile-sub-title",[t._v("Funds: "+t._s(t._f("currency")(t.funds)))])],1)],1)],1),t._v(" "),n("v-spacer"),t._v(" "),n("v-list",{attrs:{dense:""}},[n("v-list-tile",{on:{click:t.savePortfolio}},[n("v-list-tile-action",[n("v-icon",[t._v("cloud_upload")])],1),t._v(" "),n("v-list-tile-title",[t._v("Save")])],1),t._v(" "),n("v-list-tile",{attrs:{disabled:!t.wasPortfolioSaved},on:{click:t.loadPortfolio}},[n("v-list-tile-action",[n("v-icon",[t._v("cloud_download")])],1),t._v(" "),n("v-list-tile-title",[t._v("Load")])],1),t._v(" "),n("v-list-tile",[n("v-list-tile-action",[n("v-icon",[t._v("exit_to_app")])],1),t._v(" "),n("v-list-tile-title",[t._v("Logout")])],1)],1)],1)],1)},staticRenderFns:[]},f={name:"app",components:{appNavigation:n("VU/8")(null,i,!1,null,null,null).exports,appHeader:n("VU/8")(u,v,!1,null,null,null).exports},data:function(){return{drawer:!1}},created:function(){null!==this.$store.getters.portfolioId&&this.$store.dispatch(c)},computed:{funds:function(){return this.$store.getters.funds}}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("v-app",{attrs:{dark:""}},[n("v-navigation-drawer",{attrs:{clipped:"",fixed:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("app-navigation")],1),t._v(" "),n("app-header",{on:{"toggle-drawer":function(e){t.drawer=!t.drawer}}}),t._v(" "),n("v-content",[n("v-container",{attrs:{fluid:""}},[n("transition",{attrs:{name:"fade"}},[n("router-view")],1)],1)],1),t._v(" "),n("v-footer",{staticClass:"pa-3 body-2",attrs:{app:""}},[n("span",[t._v("Funds available: "+t._s(t._f("currency")(t.funds)))]),t._v(" "),n("v-spacer"),t._v(" "),n("span",[t._v("Â© Jaime Vega")])],1)],1)],1)},staticRenderFns:[]},p=n("VU/8")(f,d,!1,function(t){n("aF9z")},null,null).exports,_=n("/ocq"),m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("h2",[t._v("Trade or View your portfolio")]),t._v(" "),n("p",[t._v("You may Save & Load your data")]),t._v(" "),n("p",[t._v("Click on 'End of Day' to begin a new day")]),t._v(" "),n("hr"),t._v(" "),n("h3",[t._v("Your Funds: "+t._s(t._f("currency")(t.funds)))])])},staticRenderFns:[]},h=n("VU/8")({computed:{funds:function(){return this.$store.getters.funds}}},m,!1,null,null,null).exports,k=n("Dd8w"),y=n.n(k),w=n("NYxO"),O={props:{stock:{type:Object},max:{type:Number},sell:{type:Boolean,value:!1}},data:function(){return{quantityToOperate:0}},computed:{valid:function(){return this.quantityToOperate>0}},watch:{max:function(t){this.quantityToOperate>t&&(this.quantityToOperate=t)}},methods:y()({buy:function(){if(!(this.quantityToOperate>this.max)){(this.sell?this.sellStock:this.buyStock).bind(this)({quantity:this.quantityToOperate,name:this.stock.name,price:this.stock.price}),this.quantityToOperate=0}}},Object(w.b)({buyStock:"BUY_STOCK",sellStock:l}))},b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("header",[t._v(t._s(t.stock.name)+" ( "),n("span",[t._v("Price: "+t._s(t._f("currency")(t.stock.price)))]),t._v(" "),null!=t.stock.quantity?n("span",[t._v("| Quantity: "+t._s(t.stock.quantity))]):t._e(),t._v(")")]),t._v(" "),n("v-container",{attrs:{fluid:"","grid-list-md":""}},[n("v-layout",{attrs:{wrap:"","align-center":""}},[n("v-flex",{attrs:{xs7:""}},[n("v-text-field",{attrs:{type:"number",min:"0",max:t.max,disabled:0===t.max},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.buy(e)}},model:{value:t.quantityToOperate,callback:function(e){t.quantityToOperate=t._n(e)},expression:"quantityToOperate"}})],1),t._v(" "),n("v-flex",{attrs:{xs5:""}},[n("v-btn",{attrs:{disabled:!t.valid},on:{click:t.buy}},[t._v(t._s(this.sell?"Sell":"Buy"))])],1)],1)],1)],1)},staticRenderFns:[]},g={props:["stocks","funds","sell"],components:{StockInfo:n("VU/8")(O,b,!1,function(t){n("kDy/")},"data-v-4c10e36d",null).exports},methods:{getMax:function(t){return null!=t.quantity?t.quantity:Math.floor(this.funds/t.price)}}},x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{"grid-list-lg":"",fluid:""}},[n("v-layout",{attrs:{row:"",wrap:""}},t._l(t.stocks,function(e){return n("v-flex",{key:e.name,attrs:{xs12:"",sm6:"",md4:"",lg3:""}},[n("stock-info",{attrs:{stock:e,max:t.getMax(e),sell:t.sell}})],1)}))],1)},staticRenderFns:[]},S=n("VU/8")(g,x,!1,null,null,null).exports,T={components:{ListOfStocks:S},computed:y()({},Object(w.c)(["portfolio","total"]))},E={render:function(){var t=this.$createElement,e=this._self._c||t;return e("section",[e("h2",[this._v("Portfolio Section")]),this._v(" "),this.portfolio.length?e("div",[e("list-of-stocks",{attrs:{stocks:this.portfolio,sell:""}})],1):e("div",[this._v("\n    Portfolio is Empty. "),e("router-link",{attrs:{to:"/stocks"}},[this._v("Buy something...")])],1),this._v(" "),e("hr"),this._v(" "),e("span",{staticClass:"total"},[this._v("Total value: "+this._s(this._f("currency")(this.total)))])])},staticRenderFns:[]},F=n("VU/8")(T,E,!1,function(t){n("md81")},"data-v-de09e962",null).exports,P={components:{ListOfStocks:S},computed:{stocks:function(){return this.$store.getters.stocks},funds:function(){return this.$store.getters.funds}}},R={render:function(){var t=this.$createElement,e=this._self._c||t;return e("section",[e("h2",[this._v("Stock Section")]),this._v(" "),e("list-of-stocks",{attrs:{stocks:this.stocks,funds:this.funds}})],1)},staticRenderFns:[]},$=n("VU/8")(P,R,!1,null,null,null).exports,q={render:function(){this.$createElement;this._self._c;return this._m(0,!1,!1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("section",[e("h1",[this._v("Signup")])])}]},I=n("VU/8")({},q,!1,null,null,null).exports;o.a.use(_.a);var L=new _.a({routes:[{path:"/",name:"Home",component:h},{path:"/stocks",name:"Stocks",component:$},{path:"/portfolio",name:"Portfolio",component:F},{path:"/signup",name:"Signup",component:I}]}),D=n("bOdI"),V=n.n(D),M="ADD_TO_PORTFOLIO",U="REMOVE_FROM_PORTFOLIO",C="RANDOMIZE_PORTFOLIO",N={state:[{name:"BMW",price:110},{name:"Google",price:200},{name:"Apple",price:250},{name:"Twitter",price:8},{name:"Microsoft",price:132},{name:"Amazon",price:75},{name:"Santander",price:80},{name:"Spotify",price:15},{name:"Facebook",price:100}],mutations:V()({},C,function(t){t.forEach(function(t){t.price=function(t){var e=.2*Math.random();return t+t*e*e*(Math.floor(100*Math.random()+1)%2==0?1:-1)}(t.price)})}),actions:V()({},"NEXT_DAY",function(t){(0,t.commit)(C)}),getters:{stocks:function(t){return t}}},A=n("Xxa5"),j=n.n(A),Y=n("exGp"),B=n.n(Y),z=n("fZjL"),H=n.n(z),J=n("mtWM"),K="PORTFOLIO_ID",W=n.n(J).a.create();W.defaults.baseURL="https://stock-app-2806b.firebaseio.com/",W.defaults.headers.common["Content-Type"]="application/json";var X,G,Z=localStorage.getItem(K),Q=function(){var t=B()(j.a.mark(function t(e){var n,o,r;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=null!==Z,o=n?V()({},Z,e):e,t.next=4,W({method:n?"put":"post",url:"/portfolio.json",data:o});case 4:return r=t.sent,n||(Z=r.data.name,localStorage.setItem(K,Z)),t.abrupt("return",r);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),tt=function(){var t=B()(j.a.mark(function t(){return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==Z){t.next=2;break}throw new Error("Id is not defined");case 2:return t.abrupt("return",W.get("/portfolio/"+Z+".json"));case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),et={portfolio:function(t,e,n){return H()(t.stocks).map(function(e){return{name:e,quantity:t.stocks[e],price:n.stocks.find(function(t){return t.name===e}).price}})},total:function(t,e,n){return H()(t.stocks).map(function(e){return{price:n.stocks.find(function(t){return t.name===e}).price,quantity:t.stocks[e]}}).reduce(function(t,e){return t+e.price*e.quantity},0)},portfolioId:function(t){return t.id},funds:function(t){return t.funds}},nt={state:{id:localStorage.getItem(K),funds:1e4,stocks:{}},mutations:(X={},V()(X,M,function(t,e){var n=e.name,o=e.quantity,r=e.price;t.stocks=y()({},t.stocks,V()({},n,(t.stocks[n]||0)+o)),t.funds-=r*o}),V()(X,U,function(t,e){var n=e.name,o=e.quantity,r=e.price;if(t.stocks[n]-o==0){var s=y()({},t.stocks);delete s[n],t.stocks=s}else t.stocks=y()({},t.stocks,V()({},n,t.stocks[n]-o));t.funds+=r*o}),V()(X,"SET_PORFOLIO",function(t,e){t.funds=e.funds,t.stocks=y()({},e.stocks)}),X),getters:et,actions:(G={},V()(G,"BUY_STOCK",function(t,e){(0,t.commit)(M,e)}),V()(G,l,function(t,e){(0,t.commit)(U,e)}),V()(G,a,function(){var t=B()(j.a.mark(function t(e){var n,o,r,s=e.state;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q(s);case 2:return n=t.sent,o=n.data,r=o.name,null===s.id&&(s.id=r),t.abrupt("return",o);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),V()(G,c,function(){var t=B()(j.a.mark(function t(e){var n,o,r=e.commit;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tt();case 2:return n=t.sent,o=n.data,r("SET_PORFOLIO",o),t.abrupt("return",n);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),G)};o.a.use(w.a);var ot=new w.a.Store({modules:{stocks:N,portfolio:nt}});n.e(0).then(n.bind(null,"7zck")),o.a.config.productionTip=!1,o.a.config.performance=!1,o.a.use(s.a),o.a.filter("currency",function(t){return new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(t)}),new o.a({el:"#app",store:ot,router:L,render:function(t){return t(p)}})},aF9z:function(t,e){},"kDy/":function(t,e){},md81:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.2bc5d5cd129a8cb9f2e1.js.map