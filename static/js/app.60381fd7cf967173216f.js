webpackJsonp([1],{"+t4H":function(t,n){},"7jMd":function(t,n){},Lvmw:function(t,n){},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("7+uW"),r="SAVE_PORTFOLIO",s="LOAD_PORTFOLIO",i="SELL_STOCK",a={computed:{funds:function(){return this.$store.getters.funds},wasPortfolioSaved:function(){return null!==this.$store.getters.portfolioId}},methods:{newDay:function(){this.$store.dispatch("NEXT_DAY")},savePortfolio:function(){window.confirm("Do you really want to save?")&&this.$store.dispatch(r).then(function(){return window.alert("Saved!")})},loadPortfolio:function(){this.wasPortfolioSaved&&window.confirm("Do you really want to load?")&&this.$store.dispatch(s).then(function(){return window.alert("Loaded!")})}}},c={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"container"},[e("nav",[e("li",[e("router-link",{attrs:{to:"/",exact:""}},[t._v("Home")])],1),t._v(" "),e("li",[e("router-link",{attrs:{to:"/portfolio"}},[t._v("Portfolio")])],1),t._v(" "),e("li",[e("router-link",{attrs:{to:"/stocks"}},[t._v("Stocks")])],1)]),t._v(" "),e("nav",[e("li",[e("button",{staticClass:"btn-link",on:{click:t.newDay}},[t._v("End of Day")])]),t._v(" "),e("li",[e("button",{staticClass:"btn-link",attrs:{disabled:!t.wasPortfolioSaved},on:{click:t.loadPortfolio}},[t._v("Load Portfolio")])]),t._v(" "),e("li",[e("button",{staticClass:"btn-link",on:{click:t.savePortfolio}},[t._v("Save Portfolio")])]),t._v(" "),e("li",[t._v("Funds: "+t._s(t._f("currency")(t.funds)))])])])},staticRenderFns:[]},u={name:"app",components:{appHeader:e("VU/8")(a,c,!1,function(t){e("v+js")},"data-v-c8c3c694",null).exports},created:function(){null!==this.$store.getters.portfolioId&&this.$store.dispatch(s)}},l={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{attrs:{id:"app"}},[n("app-header"),this._v(" "),n("transition",{attrs:{name:"fade"}},[n("router-view")],1)],1)},staticRenderFns:[]},f=e("VU/8")(u,l,!1,function(t){e("7jMd")},null,null).exports,d=e("/ocq"),p={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("section",[e("h2",[t._v("Trade or View your portfolio")]),t._v(" "),e("p",[t._v("You may Save & Load your data")]),t._v(" "),e("p",[t._v("Click on 'End of Day' to begin a new day")]),t._v(" "),e("hr"),t._v(" "),e("h3",[t._v("Your Funds: "+t._s(t._f("currency")(t.funds)))])])},staticRenderFns:[]},m=e("VU/8")({computed:{funds:function(){return this.$store.getters.funds}}},p,!1,null,null,null).exports,v=e("Dd8w"),h=e.n(v),_=e("NYxO"),k={props:{stock:{type:Object},max:{type:Number},sell:{type:Boolean,value:!1}},data:function(){return{quantityToOperate:0}},computed:{valid:function(){return this.quantityToOperate>0}},watch:{max:function(t){this.quantityToOperate>t&&(this.quantityToOperate=t)}},methods:h()({buy:function(){if(!(this.quantityToOperate>this.max)){(this.sell?this.sellStock:this.buyStock).bind(this)({quantity:this.quantityToOperate,name:this.stock.name,price:this.stock.price}),this.quantityToOperate=0}}},Object(_.b)({buyStock:"BUY_STOCK",sellStock:i}))},y={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("section",{staticClass:"stock"},[e("header",[t._v(t._s(t.stock.name)+" ( "),e("span",[t._v("Price: "+t._s(t._f("currency")(t.stock.price)))]),t._v(" "),null!=t.stock.quantity?e("span",[t._v("| Quantity: "+t._s(t.stock.quantity))]):t._e(),t._v(")")]),t._v(" "),e("div",[e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.quantityToOperate,expression:"quantityToOperate",modifiers:{number:!0}}],attrs:{type:"number",min:"0",max:t.max,disabled:0===t.max},domProps:{value:t.quantityToOperate},on:{keydown:function(n){if(!("button"in n)&&t._k(n.keyCode,"enter",13,n.key))return null;t.buy(n)},input:function(n){n.target.composing||(t.quantityToOperate=t._n(n.target.value))},blur:function(n){t.$forceUpdate()}}}),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:!t.valid},on:{click:t.buy}},[t._v(t._s(this.sell?"Sell":"Buy"))])])])},staticRenderFns:[]},O={props:["stocks","funds","sell"],components:{StockInfo:e("VU/8")(k,y,!1,function(t){e("Lvmw")},"data-v-06750c10",null).exports},methods:{getMax:function(t){return null!=t.quantity?t.quantity:Math.floor(this.funds/t.price)}}},b={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"stocks-container"},t._l(t.stocks,function(n){return e("stock-info",{key:n.name,attrs:{stock:n,max:t.getMax(n),sell:t.sell}})}))},staticRenderFns:[]},w=e("VU/8")(O,b,!1,function(t){e("+t4H")},"data-v-2f7b896e",null).exports,S={components:{ListOfStocks:w},computed:h()({},Object(_.c)(["portfolio","total"]))},T={render:function(){var t=this.$createElement,n=this._self._c||t;return n("section",[n("h2",[this._v("Portfolio Section")]),this._v(" "),this.portfolio.length?n("div",[n("list-of-stocks",{attrs:{stocks:this.portfolio,sell:""}})],1):n("div",[this._v("\n    Portfolio is Empty. "),n("router-link",{attrs:{to:"/stocks"}},[this._v("Buy something...")])],1),this._v(" "),n("hr"),this._v(" "),n("span",{staticClass:"total"},[this._v("Total value: "+this._s(this._f("currency")(this.total)))])])},staticRenderFns:[]},x=e("VU/8")(S,T,!1,function(t){e("md81")},"data-v-de09e962",null).exports,g={components:{ListOfStocks:w},computed:{stocks:function(){return this.$store.getters.stocks},funds:function(){return this.$store.getters.funds}}},P={render:function(){var t=this.$createElement,n=this._self._c||t;return n("section",[n("h2",[this._v("Stock Section")]),this._v(" "),n("list-of-stocks",{attrs:{stocks:this.stocks,funds:this.funds}})],1)},staticRenderFns:[]},E=e("VU/8")(g,P,!1,null,null,null).exports;o.a.use(d.a);var q=new d.a({routes:[{path:"/",name:"Home",component:m},{path:"/stocks",name:"Stocks",component:E},{path:"/portfolio",name:"Portfolio",component:x}]}),I=e("bOdI"),L=e.n(I),R="ADD_TO_PORTFOLIO",F="REMOVE_FROM_PORTFOLIO",$="RANDOMIZE_PORTFOLIO",D={state:[{name:"BMW",price:110},{name:"Google",price:200},{name:"Apple",price:250},{name:"Twitter",price:8}],mutations:L()({},$,function(t){t.forEach(function(t){t.price=function(t){var n=.2*Math.random();return t+t*n*n*(Math.floor(100*Math.random()+1)%2==0?1:-1)}(t.price)})}),actions:L()({},"NEXT_DAY",function(t){(0,t.commit)($)}),getters:{stocks:function(t){return t}}},C=e("Xxa5"),M=e.n(C),j=e("exGp"),U=e.n(j),V=e("fZjL"),N=e.n(V),A=e("mtWM"),H="PORTFOLIO_ID",Y=e.n(A).a.create();Y.defaults.baseURL="https://stock-app-2806b.firebaseio.com/",Y.defaults.headers.common["Content-Type"]="application/json";var B,K,W=localStorage.getItem(H),X=function(){var t=U()(M.a.mark(function t(n){var e,o,r;return M.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=null!==W,o=e?L()({},W,n):n,t.next=4,Y({method:e?"put":"post",url:"/portfolio.json",data:o});case 4:return r=t.sent,e||(W=r.data.name,localStorage.setItem(H,W)),t.abrupt("return",r);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),G=function(){var t=U()(M.a.mark(function t(){return M.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==W){t.next=2;break}throw new Error("Id is not defined");case 2:return t.abrupt("return",Y.get("/portfolio/"+W+".json"));case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),Z={portfolio:function(t,n,e){return N()(t.stocks).map(function(n){return{name:n,quantity:t.stocks[n],price:e.stocks.find(function(t){return t.name===n}).price}})},total:function(t,n,e){return N()(t.stocks).map(function(n){return{price:e.stocks.find(function(t){return t.name===n}).price,quantity:t.stocks[n]}}).reduce(function(t,n){return t+n.price*n.quantity},0)},portfolioId:function(t){return t.id},funds:function(t){return t.funds}},J={state:{id:localStorage.getItem(H),funds:1e4,stocks:{}},mutations:(B={},L()(B,R,function(t,n){var e=n.name,o=n.quantity,r=n.price;t.stocks=h()({},t.stocks,L()({},e,(t.stocks[e]||0)+o)),t.funds-=r*o}),L()(B,F,function(t,n){var e=n.name,o=n.quantity,r=n.price;if(t.stocks[e]-o==0){var s=h()({},t.stocks);delete s[e],t.stocks=s}else t.stocks=h()({},t.stocks,L()({},e,t.stocks[e]-o));t.funds+=r*o}),L()(B,"SET_PORFOLIO",function(t,n){t.funds=n.funds,t.stocks=h()({},n.stocks)}),B),getters:Z,actions:(K={},L()(K,"BUY_STOCK",function(t,n){(0,t.commit)(R,n)}),L()(K,i,function(t,n){(0,t.commit)(F,n)}),L()(K,r,function(){var t=U()(M.a.mark(function t(n){var e,o,r,s=n.state;return M.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X(s);case 2:return e=t.sent,o=e.data,r=o.name,null===s.id&&(s.id=r),t.abrupt("return",o);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}()),L()(K,s,function(){var t=U()(M.a.mark(function t(n){var e,o,r=n.commit;return M.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G();case 2:return e=t.sent,o=e.data,r("SET_PORFOLIO",o),t.abrupt("return",e);case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}()),K)};o.a.use(_.a);var Q=new _.a.Store({modules:{stocks:D,portfolio:J}});o.a.config.productionTip=!1,o.a.config.performance=!1,o.a.filter("currency",function(t){return new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(t)}),new o.a({el:"#app",store:Q,router:q,render:function(t){return t(f)}})},md81:function(t,n){},"v+js":function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.60381fd7cf967173216f.js.map